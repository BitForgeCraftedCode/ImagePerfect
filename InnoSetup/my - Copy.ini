# ===========================
# ImagePerfect Portable MySQL
# ===========================
[mysqld]

# --- Basic Directories ---
# change basedir and datadir for setup vs publish

#basedir=..
#datadir=../data

basedir=C:/Users/Public/ImagePerfect/mysql
datadir=C:/Users/Public/ImagePerfect/mysql/data

# --- Networking ---
port=3308               # Custom port to avoid conflicts with system MySQL
bind-address=127.0.0.1          # explicitly enable TCP/IP
skip-name-resolve       # Skip DNS lookups for performance and portability
skip-symbolic-links

# --- Logging --- 
# change logging for setup vs publish

#log-error=../logs/mysql-error.log

log-error=C:/Users/Public/ImagePerfect/mysql/logs/mysql-error.log

# Optional: uncomment if you want to see every connection/query (not recommended for production)
# general_log=ON
# general_log_file=../logs/mysql-general.log

# --- Server Behavior ---
explicit_defaults_for_timestamp=true
character-set-server=utf8mb4
collation-server=utf8mb4_unicode_ci

# --- Performance Tuning ---
# Buffer pool is where InnoDB caches data and indexes.
# 512M is a good default for desktop systems.
# If your machine has 16GB+ RAM and a large database, you can increase this to 1G or 2G for better performance.
innodb_buffer_pool_size=512M
# Limit simultaneous client connections so the bundled server doesn't exhaust RAM.
# 50 is a conservative default for a desktop single-app server.
max_connections=50

# --- Disable Features You Don't Need ---
# You can comment these out if you need binary logging or replication
skip-log-bin            # Disable binary logging (saves space, faster startup)
